# USV 无人船监控微信小程序

## 项目简介

这是一个基于微信小程序开发的无人船(USV)实时监控系统，主要用于显示无人船的GPS实时位置和激光雷达点云数据。

## 功能特点

### 📍 GPS实时定位
- 解析GNGGA格式GPS数据
- 地图自动定位到当前位置
- 显示详细GPS信息（时间、经纬度、高度、卫星数等）
- 支持地图缩放和交互

### 📡 激光雷达数据可视化
- 实时点云数据展示
- 极坐标转直角坐标转换
- 栅格地图绘制
- 点云数据统计（有效点数、最大/最小距离）
- 点云着色（根据距离和强度）

### 🔄 实时数据更新
- 模拟数据自动更新（每2秒）
- 支持从后端获取真实数据
- 完善的错误处理机制
- 数据更新状态提示

### 🎨 现代化UI设计
- 深色主题设计
- 响应式布局
- 流畅的动画效果
- 直观的数据展示
- 良好的用户体验

## 技术栈

| 技术 | 版本 | 说明 |
| --- | --- | --- |
| 微信小程序 | 基础库 3.12.1+ | 跨平台移动应用框架 |
| TypeScript | ES2020 | 类型安全的JavaScript |
| 百度地图 | API V3.0 | 地图服务 |
| Canvas 2D | 新版接口 | 点云绘制 |
| wx.request | 内置API | 网络请求 |

## 快速开始

### 环境准备

1. 安装 [微信开发者工具](https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html)
2. 注册微信小程序开发者账号
3. 克隆本项目到本地

### 开发流程

1. 打开微信开发者工具
2. 导入项目，选择本项目目录
3. 填写小程序AppID（或使用测试号）
4. 选择TypeScript编译模式
5. 点击"编译"按钮
6. 在模拟器中查看效果

### 项目配置

- **app.json**: 小程序全局配置
- **project.config.json**: 项目开发配置
- **tsconfig.json**: TypeScript编译配置

## 项目结构

```
usv_miniprogram/
├── miniprogram/            # 小程序源码
│   ├── pages/              # 页面目录
│   │   ├── index/          # 首页
│   │   ├── logs/           # 日志页
│   │   └── monitor/        # 监控页（核心功能）
│   ├── utils/             # 工具函数
│   ├── libs/              # 第三方库
│   ├── app.json           # 全局配置
│   ├── app.ts             # 全局逻辑
│   └── app.wxss           # 全局样式
├── typings/               # TypeScript类型定义
├── package.json           # 项目依赖
└── project.config.json    # 项目配置
```

## 主要功能模块

### 1. GPS数据处理
- 解析GNGGA格式字符串
- 转换为可读的GPS信息
- 实时更新地图位置
- 显示GPS详细参数

### 2. 激光雷达数据处理
- 极坐标转直角坐标
- 点云数据统计分析
- Canvas 2D绘制
- 动态点云更新

### 3. 网络请求
- 支持GET请求获取数据
- 统一的请求封装
- 完善的错误处理
- 模拟数据备选方案

### 4. 地图集成
- 百度地图API集成
- 实时位置标记
- 地图自动跟随
- 支持地图交互

## 开发说明

### 代码规范

- 使用TypeScript严格模式
- 遵循微信小程序开发规范
- 函数命名使用驼峰式
- 类名使用帕斯卡式
- 添加必要的注释说明

### 调试技巧

1. 使用微信开发者工具的调试器
2. 开启控制台日志输出
3. 使用TypeScript诊断工具检查语法错误
4. 查看网络请求日志
5. 使用模拟器和真机测试

### 常见问题

#### Q: 地图无法显示？
A: 检查百度地图AK码配置，确保网络连接正常

#### Q: 点云绘制异常？
A: 检查Canvas 2D接口是否正常，查看控制台报错信息

#### Q: 数据更新失败？
A: 检查网络连接，查看请求URL和参数是否正确

## 部署说明

### 小程序发布流程

1. 在微信开发者工具中进行代码审核
2. 上传代码到微信小程序后台
3. 在后台提交审核
4. 审核通过后发布上线

### 版本管理

- 使用Git进行版本控制
- 遵循语义化版本号规范
- 定期发布更新日志

## 贡献指南

欢迎提交Issue和Pull Request来帮助改进这个项目！


### 代码审核

- 确保代码通过TypeScript诊断
- 遵循项目代码规范
- 添加必要的测试用例
- 更新相关文档

## 许可证

MIT License

## 联系方式

如有问题或建议，欢迎通过以下方式联系：

- 项目地址：[GitHub Repository](https://github.com/Lecho007/usv_miniprogram.git)
- 开发者：[Lecho007]
- 邮箱：[2543293454@qq.com]

---

**USV无人船监控系统** - 为无人船提供实时、直观的监控体验 🚢📊